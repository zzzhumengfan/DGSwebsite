<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>数据模型稽核_模型稽核_新建稽核</title>
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
		<link rel="stylesheet" href="plugins/bootstrap-3.3.7-dist/css/bootstrap.css" />
		<link rel="stylesheet" href="plugins/layer-v3.1.1/layer/mobile/need/layer.css" />
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/other.css" />
		<style>
			.nav-pills>li>a {
				border-radius: 0px;
			}
			
			.report_list li a span {
				display: block;
				text-align: center;
				font-size: 14px;
				font-weight: bold;
			}
			
			.report_list li a strong {
				display: block;
				text-align: center;
				font-size: 20px;
				font-weight: bold;
			}
			
			.report_list {
				border-bottom: 1px solid #ddd
			}
		</style>
	</head>

	<body>
		<div class="head clearFloat"></div>
		<div class="title_wrap">
			<div class="title_container clearFloat">
				<div class="subnav">
					<span>&nbsp;</span>&nbsp;&nbsp;数据模型稽核&nbsp;&nbsp;
					<a href="#">模型稽核</a>&nbsp;<strong>&gt;</strong>&nbsp;<strong>新建稽核</strong>
				</div>
			</div>
		</div>
		<div class="othermain_wrap clearFloat">
			<div class="othermain_left1 othermain_left2">
				<dl>
					<dt>模型稽核</dt>

					<dd>
						<a href="#">新建稽核</a>
					</dd>
					<dd>
						<a href="#">模型逆向库</a>
					</dd>
					<dd>
						<a href="#">数据标准库</a>
					</dd>
				</dl>
				<dl>
					<dt>稽核结果</dt>
					<dd>
						<a href="#">历史结果</a>
					</dd>
				</dl>
			</div>
			<div class="othermain_right">
				<div class="section model_newlybulid_flow">
					<div class="bottom_line">&nbsp;</div>
					<div class="bottom_line_r1">&nbsp;</div>
					<div class="bottom_line_r2">&nbsp;</div>
					<div class="bottom_line_r3">&nbsp;</div>
					<div class="bottom_line_r4">&nbsp;</div>
					<ul class="flow_list clearFloat">
						<li class="active1 active2">
							<div>&nbsp;</div>上传模型
						</li>
						<li class="active1 active2">
							<div>&nbsp;</div>逆向工程
						</li>
						<li class="active1 active2">
							<div>&nbsp;</div>执行比对
						</li>
						<li class="active1">
							<div>&nbsp;</div>稽核结果
						</li>
						<li class="">
							<div>&nbsp;</div>稽核报告
						</li>
					</ul>
				</div>
				<div class="model_table_title clearFloat">
					<h2>集团公司BOSS三户域数据模型稽核报告</h2>
					<dl>
						<dt>稽核时间</dt>
						<dd>2018-10-31 15:09</dd>
					</dl>
					<dl>
						<dt>生成时间</dt>
						<dd>2018-10-31 15:09</dd>
					</dl>
				</div>
				<div class="section">
					<div class="data_model_newlybuild">
						<div class="model_wrap">
							<ul class="nav nav-pills nav-justified report_list">
							</ul>
							<div class="eachart_wrap row">
								<div class="col-sm-6">
									<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
									<div id="main1" style="height:400px;"></div>
								</div>
								<div class="col-sm-6">
									<div id="main2" style="height:400px;"></div>
								</div>
							</div>
						</div>
						<div class="pager_wrap">
							<a href="model_auditing_newlybuild3.html" class="btn btn-danger">上一步</a>
							<a href="model_auditing_newlybuild5.html" class="btn btn-danger">下一步</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="foot"></div>

		<script type="text/javascript" src="plugins/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="plugins/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="plugins/incubator-echarts-master/dist/echarts.min.js"></script>
		<script type="text/javascript" src="plugins/layer-v3.1.1/layer/layer.js"></script>
		<script type="text/javascript">
			$(".head").load("head.html")
			$(".foot").load("foot.html")

			$.ajax({
				type: "get",
				async: true, //异步请求
				url: "https://www.easy-mock.com/mock/5c6b6d6415b74a0aacc7a986/dgs/echarts",
				data: {},
				dataType: "json", //返回数据形式为json
				success: function(data) {
					$(".report_list").html("");
					let rl_html = "";
					for (let i = 0; i < data.list.length; i++) {
						rl_html +=
							`<li role="presentation" class="active"><a href="javascript:;"><span>${data.list[i].name}</span><strong>${data.list[i].num}</strong></a></li>`;
					}
					$(".report_list").html(rl_html);
				}
			})

			// 基于准备好的dom，初始化echarts实例  柱状图
			var myChart1 = echarts.init(document.getElementById('main1'));
			// 指定图表的配置项和数据
			var option1 = {
				title: {
					text: '分布'
				},
				tooltip: {},
				legend: {
					data: ['']
				},
				xAxis: {
					data: [],
					axisLabel: {
						interval: 0,
						rotate: -30
					},
				},
				yAxis: {},
				series: [{
					name: '数量',
					type: 'bar',
					data: [],
					itemStyle: {
						normal: {
							color: function(params) {
								var colorList = ['#30bbbb', '#00a7d0', '#008d4c', '#db8b0b', '#d33724', '#ca195a ', '#555299'];
								return colorList[params.dataIndex]
							}
						}
					},
					label: {
						normal: {
							show: true,
							position: 'insideTop'
						}
					}

				}],

			};

			// 使用刚指定的配置项和数据显示图表。
			myChart1.setOption(option1);

			myChart1.showLoading(); //数据加载完之前先显示一段简单的loading动画

			var names = []; //类别数组（实际用来盛放X轴坐标值）
			var nums = []; //销量数组（实际用来盛放Y坐标值）

			$.ajax({
				type: "get",
				async: true, //异步请求
				url: "https://www.easy-mock.com/mock/5c6b6d6415b74a0aacc7a986/dgs/echarts",
				data: {},
				dataType: "json", //返回数据形式为json
				success: function(result) {
					//请求成功时执行该函数内容，result即为服务器返回的json对象
					if (result.list) {
						for (var i = 0; i < result.list.length; i++) {
							names.push(result.list[i].name); //挨个取出类别并填入类别数组
						}
						for (var i = 0; i < result.list.length; i++) {
							nums.push(result.list[i].num); //挨个取出销量并填入销量数组
						}
						myChart1.hideLoading(); //隐藏加载动画
						myChart1.setOption({ //加载数据图表
							xAxis: {
								data: names
							},
							series: [{
								data: nums
							}]
						});

					}

				},
				error: function(errorMsg) {
					//请求失败时执行该函数
					layer.alert("图表请求数据失败!");
					myChart1.hideLoading(); //隐藏加载动画
				}
			})

			// 基于准备好的dom，初始化echarts实例  雷达图
			var myChart2 = echarts.init(document.getElementById('main2'));
			// 指定图表的配置项和数据
			var option2 = {
				title: {
					text: '评分'
				},
				tooltip: {
					trigger: 'axis'
				},
				legend: {
					x: 'center',
					data: ['']
				},
				radar: [{
						indicator: [{
								text: '规范性',
								max: 100
							},
							{
								text: '完整性',
								max: 100
							},
							{
								text: '一致性',
								max: 100
							},
							{
								text: '通过率',
								max: 100
							}
						],
						center: ['50%', '50%'],
						radius: 80
					},

				],
				series: [{
						type: 'radar',
						tooltip: {
							trigger: 'item'
						},
						itemStyle: {
							normal: {
								areaStyle: {
									type: 'default'
								}
							}
						},
						data: [{
							value: [],
							name: ''
						}]
					},

				]
			};

			// 使用刚指定的配置项和数据显示图表。
			myChart2.setOption(option2);
			myChart2.showLoading(); //数据加载完之前先显示一段简单的loading动画

			var gradesname = []; //类别数组（实际用来盛放雷达图名称值）
			var gradesnum = []; //分值数组（实际用来盛放雷达图分值）

			$.ajax({
				type: "get",
				async: true, //异步请求
				url: "https://www.easy-mock.com/mock/5c6b6d6415b74a0aacc7a986/dgs/grade",
				data: {},
				dataType: "json", //返回数据形式为json
				success: function(result) {
					//请求成功时执行该函数内容，result即为服务器返回的json对象
					if (result.list) {

						for (var i = 0; i < result.list.length; i++) {
							gradesnum.push(Number(result.list[i].num)); //挨个取出类别并填入类别数组
						}

						myChart2.hideLoading(); //隐藏加载动画
						myChart2.setOption({ //加载数据图表
							series: [{
								data: [{
									value: gradesnum,
									name: '分值'
								}]
							}]
						});

					}

				},
				error: function(errorMsg) {
					//请求失败时执行该函数
					layer.alert("图表请求数据失败!");
					myChart2.hideLoading(); //隐藏加载动画
				}
			})
		</script>
	</body>

</html>
